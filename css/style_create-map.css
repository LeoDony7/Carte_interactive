/* Style de l'interface de modification d'une carte*/


/** Fond de carte Leaflet **/

/* La carte doit remplir toute la fenêtre */
html, body {
    height: 100%;
    margin: 0;
}

/* Décaler les boutons de zoom Leaflet un peu vers le bas */
.leaflet-control-zoom {
    top: 40px !important; /* valeur ajustable selon besoin */
}

/* Conteneur de la carte */
#map {
    width: 100%;
    height: 100%;
}

/** Boutons de naviguation **/

/* Bouton retour à l'accueil */
#btnReturn {
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 1000;
    padding: 6px 12px;
    background-color: #ffffffdd; /* légèrement transparent */
    border: 1px solid #888;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    color: #333;
    transition: all 0.2s;
    letter-spacing: 0.5px;
}

/* Légère ombre pour bouton */
#btnReturn:hover {
    background-color: #f0f0f0;
    border-color: #555;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}

/* Chevron CSS : utilisé pour le bouton retour à la page d'acceuil */
.chevron {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-left: 2px solid #333;
    border-bottom: 2px solid #333;
    transform: rotate(45deg);
    margin-right: 6px;
}

/** Panneau déroulant vertical **/

/* Conteneur principal du panneau */
.dropdown-panel {
    position: fixed;           /* Fixe par rapport à la fenêtre */
    top: 20px;                /* Marge du haut */
    right: 20px;              /* Marge de droite */
    width: 360px;             /* Largeur du panneau */
    background-color: #ffffff; /* Fond blanc */
    border-radius: 15px;      /* Coins arrondis sur tout le panneau */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15); /* Ombre portée élégante */
    z-index: 1001;            /* Au-dessus de la carte */
    overflow: hidden;         /* Cache le contenu qui dépasse pendant l'animation */
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); /* Animation fluide */
    border: 1px solid #e0e0e0; /* Bordure légère */
}

/* État fermé du panneau (hauteur réduite) */
.dropdown-panel.closed {
    height: auto;             /* Hauteur automatique basée sur l'en-tête */
}

.dropdown-panel.closed .panel-body {
    max-height: 0;            /* Corps complètement réduit */
    overflow: hidden;         /* Cache le contenu qui dépasse */
    opacity: 0;               /* Invisible */
    padding-top: 0;           /* Supprime le padding du haut */
    padding-bottom: 0;        /* Supprime le padding du bas */
    transition: max-height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
                opacity 0.3s ease,
                padding 0.4s ease;
}


/* État ouvert du panneau (hauteur complète) */
.dropdown-panel.open {
    height: auto;             /* Hauteur automatique */
    max-height: calc(100vh - 80px); /* Limite la hauteur totale */
}

.dropdown-panel.open .panel-body {
    max-height: 550px;        /* Hauteur max d'affichage du panneau de contrôle*/
    overflow-y: auto;         /* Déjà présent - active la barre de défilement */
    overflow-x: hidden;       /* Empêche le défilement horizontal */
    opacity: 1;
    padding: 20px;
    padding-right: 15px;      /* Réduit le padding à droite pour la barre */
    transition: max-height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
                opacity 0.3s ease 0.1s,
                padding 0.4s ease;
}

/* Style personnalisé de la barre de défilement */
.panel-body::-webkit-scrollbar {
    width: 8px;               /* Largeur de la barre */
}

.panel-body::-webkit-scrollbar-track {
    background: #f1f1f1;      /* Couleur du fond de la barre */
    border-radius: 4px;       /* Coins arrondis */
}

.panel-body::-webkit-scrollbar-thumb {
    background: #c1c1c1;      /* Couleur de la poignée */
    border-radius: 4px;       /* Coins arrondis */
    transition: background 0.2s ease;
}

.panel-body::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;      /* Couleur au survol */
}


/* En-tête du panneau (toujours visible) */
.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 22px 20px;       
    background-color: #f8f9fa;
    border-bottom: 1px solid #e0e0e0;
    height: 44px;           
    box-sizing: border-box;
}

/* Titre dans l'en-tête */
.panel-header h3 {
    margin: 0;
    font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;  /* Police moderne */
    font-size: 18px;             /* Légèrement plus grand */
    font-weight: 500;            /* Moins gras, plus élégant */
    color: #2c3e50;              /* Couleur plus moderne (bleu-gris foncé) */
    letter-spacing: 0.3px;       /* Espacement entre les lettres */
    text-transform: none;        /* Garde la casse normale */
    user-select: none;
    transition: color 0.2s ease; /* Animation douce sur la couleur */
}

/* Effet subtil au survol de l'en-tête */
.panel-header:hover h3 {
    color: #34495e;              /* Couleur légèrement plus foncée au survol */
}

/* Bouton toggle dans l'en-tête */
.toggle-button {
    background-color: transparent; /* Fond transparent */
    border: none;             /* Pas de bordure */
    cursor: pointer;          /* Curseur pointer */
    padding: 8px;             /* Espacement intérieur */
    border-radius: 8px;       /* Coins légèrement arrondis */
    display: flex;            /* Flexbox pour centrer la flèche */
    align-items: center;      /* Centrage vertical */
    justify-content: center;  /* Centrage horizontal */
    transition: all 0.2s ease; /* Animation rapide */
    width: 32px;              /* Largeur fixe */
    height: 32px;             /* Hauteur fixe */
}

/* Effet hover sur le bouton */
.toggle-button:hover {
    background-color: #e9ecef; /* Fond gris clair au survol */
}

/* Effet de clic sur le bouton */
.toggle-button:active {
    background-color: #dee2e6; /* Fond plus foncé à l'appui */
    transform: scale(0.95);   /* Légère réduction */
}

/* Icône flèche dans le bouton */
.dropdown-arrow {
    display: inline-block;
    width: 0;                 /* Largeur nulle pour créer un triangle */
    height: 0;                /* Hauteur nulle pour créer un triangle */
    border-left: 5px solid transparent;   /* Côté gauche transparent */
    border-right: 5px solid transparent;  /* Côté droit transparent */
    border-top: 6px solid #666;          /* Flèche vers le bas */
    transition: transform 0.3s ease;     /* Animation de rotation */
}

/* Rotation de la flèche quand le panneau est ouvert */
.dropdown-panel.open .dropdown-arrow {
    transform: rotate(180deg); /* Flèche vers le haut quand ouvert */
}

/* Corps du panneau (contenu déroulant) */
.panel-body {
    padding: 0;               /* Padding initial à 0 */
    overflow: hidden;         /* Hidden par défaut */
    transition: max-height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
                opacity 0.3s ease,
                padding 0.4s ease;
}


/* Styles pour le contenu du panneau */
.panel-body p {
    margin: 0 0 15px 0;       /* Marge entre les paragraphes */
    color: #555;              /* Couleur du texte */
    line-height: 1.6;         /* Hauteur de ligne pour la lisibilité */
    font-size: 14px;          /* Taille de police */
}

/* Dernière élément sans marge du bas */
.panel-body p:last-child {
    margin-bottom: 0;
}

